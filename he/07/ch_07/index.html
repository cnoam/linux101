
<!doctype html>
<html lang="he" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cnoam.github.io/linux101/he/07/ch_07/">
      
      
        <link rel="prev" href="../../06/ch_06/">
      
      
        <link rel="next" href="../../08/ch_08/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.13">
    
    
      
        <title>07: Advanced text processing - Linux Basics & CLI Course</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/comment.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="rtl">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-text-processing" class="md-skip">
          ◊ú◊ì◊ú◊í ◊ú◊™◊ï◊õ◊ü
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="◊õ◊ï◊™◊®◊™ ◊¢◊ú◊ô◊ï◊†◊î">
    <a href="../../" title="Linux Basics &amp; CLI Course" class="md-header__button md-logo" aria-label="Linux Basics & CLI Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Linux Basics & CLI Course
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              07: Advanced text processing
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="◊ë◊ó◊ô◊®◊™ ◊©◊§◊î">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../07/ch_07/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="he" class="md-select__link">
              ◊¢◊ë◊®◊ô◊™
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
    
  </nav>
  
</header>
    
  <!--  -->
<button id="open-comment" class="md-button md-button--primary">
  üìù Send feedback
</button>

<div id="comment-modal" class="comment-modal">
  <div class="comment-modal-content">
       <h3>
        Send feedback
         
           on<br><code>07/ch_07.md</code>
         
      </h3>


    <textarea id="comment-text" placeholder="Type your comment here‚Ä¶"></textarea>
    <div class="comment-buttons">
      <button id="cancel-comment" class="md-button">Cancel</button>
      <button id="send-comment" class="md-button md-button--primary">Send</button>
    </div>
  </div>
</div>

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="◊†◊ô◊ï◊ï◊ò" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="Linux Basics &amp; CLI Course" class="md-nav__button md-logo" aria-label="Linux Basics & CLI Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Linux Basics & CLI Course
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01/ch_01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Intro
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02/ch_02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: The file system
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03/ch_03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: Working with files
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04/ch_04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04: File permissions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05/ch_05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05: Basic command
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06/ch_06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06: Text processing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    07: Advanced text processing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    07: Advanced text processing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="◊™◊ï◊õ◊ü ◊î◊¢◊†◊ô◊ô◊†◊ô◊ù">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ◊™◊ï◊õ◊ü ◊î◊¢◊†◊ô◊ô◊†◊ô◊ù
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stream-editor-sed" class="md-nav__link">
    <span class="md-ellipsis">
      Stream EDitor (sed)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    <span class="md-ellipsis">
      AWK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AWK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#begin-and-end" class="md-nav__link">
    <span class="md-ellipsis">
      BEGIN and END
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Search Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#awk-program" class="md-nav__link">
    <span class="md-ellipsis">
      Awk program
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-that-it" class="md-nav__link">
    <span class="md-ellipsis">
      Is that it?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-using-both-awk-and-sed" class="md-nav__link">
    <span class="md-ellipsis">
      Examples (using both awk and sed)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08/ch_08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08: User/groups
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09/ch_09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09: Package management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10/networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10: Networking
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="◊™◊ï◊õ◊ü ◊î◊¢◊†◊ô◊ô◊†◊ô◊ù">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ◊™◊ï◊õ◊ü ◊î◊¢◊†◊ô◊ô◊†◊ô◊ù
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stream-editor-sed" class="md-nav__link">
    <span class="md-ellipsis">
      Stream EDitor (sed)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    <span class="md-ellipsis">
      AWK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AWK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#begin-and-end" class="md-nav__link">
    <span class="md-ellipsis">
      BEGIN and END
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Search Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#awk-program" class="md-nav__link">
    <span class="md-ellipsis">
      Awk program
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-that-it" class="md-nav__link">
    <span class="md-ellipsis">
      Is that it?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-using-both-awk-and-sed" class="md-nav__link">
    <span class="md-ellipsis">
      Examples (using both awk and sed)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p>üëç</p>
<h1 id="advanced-text-processing">Advanced Text Processing<a class="headerlink" href="#advanced-text-processing" title="Permanent link">&para;</a></h1>
<p>In this chapter we will discuss two tools that allow for advanced manipulation of text in the linux shell environment.</p>
<p><code>sed</code> is a stream editor for non-interactive text transformations, working line by line for substitutions and more. <br>
<code>awk</code> is a more powerful text processing language for structured data, splitting lines into fields and allowing actions based on patterns, ideal for data extraction and complex manipulation. Both are essential Linux tools often used together for text processing tasks.</p>
<h2 id="stream-editor-sed">Stream EDitor (sed)<a class="headerlink" href="#stream-editor-sed" title="Permanent link">&para;</a></h2>
<p>This program reads text from stdin, applies processing (from command line) and writes the result to stdout. </p>
<p>The idea is powerful: you have a very big file (or endless text stream), and you need to do some editing in it before it goes to the next processing stage. Again, this is the idea of <code>filter programs</code> connected in a pipeline.</p>
<p>It is very complex, and here we only show a trivial use case:</p>
<p>"For the input stream, find and replace all occurrences of STRING1 with STRING2"</p>
<p>Example: <code>echo "I use Windows to clean windows in the knight" | sed -e "s/Windows/Linux/"</code>
-&gt; <code>I use Linux to clean windows in the knight</code></p>
<p>Explanation:</p>
<p><code>-e</code> : execute the expression</p>
<p><code>s</code> : substitute</p>
<p><code>/pattern1/pattern2/</code> find <code>pattern1</code> and (in this case) substitute with <code>pattern2</code></p>
<p>This operation is done for every line in the input stream/file.</p>
<p>There are whole <a href="https://www.amazon.com/sed-awk-Dale-Dougherty/dp/1565922255">books</a> on sed, but we stop here.</p>
<blockquote>
<p>Questions you could ask:</p>
<ul>
<li>can it be case insensitive?</li>
<li>what if "Windows" appears more than once in one line?</li>
<li>Can I use the found pattern  - e.g. "Windows95"</li>
<li>what are the syntax rules of defining the patterns?</li>
</ul>
</blockquote>
<p><br></p>
<hr>
<p><br></p>
<h2 id="awk">AWK<a class="headerlink" href="#awk" title="Permanent link">&para;</a></h2>
<p>Awk is a text processing tool built in 1977 in Bell labs. 
Surprisingly enough, it is still widely used today by many people for its simplicity and power. </p>
<p>Awk is interpreted -&gt; slow for large inputs.<br>
Use it for quick and dirty processing of texts, or as part of scripts. This will usually be part of a pipeline (e.g. find | awk | sort ).</p>
<p>Examples taken from https://en.wikibooks.org/wiki/An_Awk_Primer</p>
<p>Awk can be used with command line args "one line program" or with a program file.</p>
<p>An Awk program has the general form:</p>
<div class="codehilite"><pre><span></span><code><span class="kr">BEGIN</span> <span class="p">{</span> <span class="n">initializations</span> <span class="p">}</span>  <span class="n">search</span> <span class="n">pattern</span> <span class="mi">1</span> <span class="p">{</span> <span class="n">program</span> <span class="n">actions</span> <span class="p">}</span> <span class="n">search</span> <span class="n">pattern</span> <span class="mi">2</span> <span class="p">{</span> <span class="n">program</span> <span class="n">actions</span> <span class="p">}</span> <span class="p">...</span> <span class="kr">END</span> <span class="p">{</span> <span class="n">final</span> <span class="n">actions</span> <span class="p">}</span>
</code></pre></div>

<p>Each part is optional if it is not needed.</p>
<p>Download the <a href="../../../assets/07/coins.txt">sample file</a> and run <code>$ awk '/gold/' coins.txt</code></p>
<p>‚ùî Why  no "{program actions}"?</p>
<p>The above show the "one liner" usage: <br>
<code>awk search-pattern { program actions }</code></p>
<p>We can add conditions:<br>
<code>awk '{if ($3 &lt; 1980) print $3, "....",$5,$6,$7,$8}' coins.txt</code></p>
<p>In awk, everything is a string, but if the string can be understood as number, it is possible to perform number operations on it.</p>
<h3 id="begin-and-end">BEGIN and END<a class="headerlink" href="#begin-and-end" title="Permanent link">&para;</a></h3>
<p><code>awk 'END {print NR,"coins"}' coins.txt</code></p>
<p>You can add sections that will be done before and after the lines are read from the input.</p>
<div class="codehilite"><pre><span></span><code><span class="o">#</span> <span class="p">(</span><span class="n">in</span> <span class="n">a</span> <span class="n">single</span> <span class="n">line</span><span class="p">.</span> <span class="n">folded</span> <span class="n">here</span> <span class="n">for</span> <span class="n">brevity</span><span class="p">)</span>
<span class="n">awk</span> <span class="err">&#39;</span><span class="kr">BEGIN</span> <span class="p">{</span> <span class="n">initializations</span> <span class="p">}</span>
    <span class="n">search</span> <span class="n">pattern</span> <span class="mi">1</span> <span class="p">{</span> <span class="n">program</span> <span class="n">actions</span> <span class="p">}</span>
    <span class="n">search</span> <span class="n">pattern</span> <span class="mi">2</span> <span class="p">{</span> <span class="n">program</span> <span class="n">actions</span> <span class="p">}</span>
    <span class="p">...</span>
    <span class="kr">END</span> <span class="p">{</span> <span class="n">final</span> <span class="n">actions</span> <span class="p">}</span><span class="err">&#39;</span> <span class="n">input</span> <span class="n">file</span>
</code></pre></div>

<h3 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h3>
<p>User defined variables are not declared. They are defaulting to empty string or 0.
<code>{ounces += $2}</code> will define <code>ounces</code>, set it to 0 and add value of field 2</p>
<p>‚ùî Is $1 the first or second field? (i.e. zero based indexing or not)</p>
<p>A variable can be a scalar or array.<br>
There are builtin variables such as</p>
<p><strong>NR</strong>: Keeps a current count of the number of input records<br>
<strong>NF</strong>: number of fields within the current input record<br>
<strong>FS</strong>: the field separator character used to divide fields on the input line<br>
<strong>RS</strong>: Record separator    ‚Üê a record can span MORE THAN ONE LINE!</p>
<p><code>echo -e "one two three \n a b c d e f" | awk '{print NF}'</code></p>
<p>will print <code>3 6</code> : three fields in first line, and 6 in the second</p>
<h3 id="search-patterns">Search Patterns<a class="headerlink" href="#search-patterns" title="Permanent link">&para;</a></h3>
<p><code>awk /regular expression/ [...]</code></p>
<p>The regular expression (regex) is POSIX Extended Regular Expressions. It is similar to python's variant.</p>
<p>If empty, it matches everything.</p>
<h3 id="awk-program">Awk program<a class="headerlink" href="#awk-program" title="Permanent link">&para;</a></h3>
<p>If there is more than one statement, write them in a file:</p>
<p><code>awk -f awk program datafile</code></p>
<p>Awk can also read from stdin (important for pipeline!) </p>
<p><code>awk -f awk program &lt; datafile</code></p>
<h3 id="exercise">Exercise<a class="headerlink" href="#exercise" title="Permanent link">&para;</a></h3>
<p>Based on the data in coins.txt:</p>
<ul>
<li>how many gold pieces?</li>
<li>how many silver pieces?</li>
<li>weight and value of each? (assume gold is 485 [Dinar/gram] and silver is 16 [Dinar/gram]
)</li>
</ul>
<p>See the <a href="../../../assets/07/summing.awk">answer</a> if you are stuck.</p>
<h2 id="is-that-it">Is that it?<a class="headerlink" href="#is-that-it" title="Permanent link">&para;</a></h2>
<p>There is more to awk! </p>
<div class="codehilite"><pre><span></span><code>‚Ä¢<span class="w"> </span><span class="nv">Arrays</span>
‚Ä¢<span class="w"> </span><span class="nv">Functions</span>
‚Ä¢<span class="w"> </span><span class="nv">Control</span><span class="w"> </span><span class="nv">structures</span><span class="w"> </span><span class="ss">(</span><span class="k">if</span>,<span class="w"> </span><span class="k">while</span>,<span class="w"> </span><span class="k">break</span>...<span class="ss">)</span>
‚Ä¢<span class="w"> </span><span class="nv">Output</span><span class="w"> </span><span class="nv">formats</span>
‚Ä¢<span class="w"> </span><span class="nv">Redirection</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">files</span>
‚Ä¢<span class="w"> </span><span class="nv">Debugging</span><span class="w"> </span><span class="nv">awk</span><span class="w"> </span><span class="nv">programs</span>
‚Ä¢<span class="w"> </span><span class="nv">Extensions</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">language</span>
</code></pre></div>

<p>But with today's availability of AI, should we invest in learning awk, or just ask the AI to create python/awk script for us?</p>
<p>obviously, if you are offline/no-ai-status, you must know what to do.</p>
<p>And even when online, use awk/sed/tr to do simple tasks. it is good to know you don't have to write a python script just to cut some columns and sum them.</p>
<h2 id="examples-using-both-awk-and-sed">Examples (using both awk and sed)<a class="headerlink" href="#examples-using-both-awk-and-sed" title="Permanent link">&para;</a></h2>
<p>Given the file "Alice_book", prepare it for processing. You can find it <a href="../../../assets/07/alice.txt">here</a></p>
<p><strong>convert all to lower case and remove punctuation marks and create a new book called Alice_book_new</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">awk</span><span class="w"> </span><span class="s1">&#39;{print tolower($0)}&#39;</span><span class="w"> </span><span class="nt">Alice_book</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nt">awk</span><span class="w"> </span><span class="s1">&#39;{ gsub(/</span><span class="cp">[</span><span class="err">[</span><span class="p">:</span><span class="nx">punct</span><span class="p">:</span><span class="cp">]</span><span class="s1">]/, &quot;&quot;, $0) } 1;&#39;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">Alice_book_new</span>
</code></pre></div>

<p><strong>remove empty lines</strong>
<code>sed -i '/^[[:space:]]*$/d' Alice_book_new</code></p>
<p><strong>remove leading spaces and tabs from each line</strong>
<code>sed -i "s/^[ \t]*//" Alice_book_new</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <div style="text-align: center; padding: 1em;">
  <img src="assets/eng-logo.png.webp" alt="Data&Decisions" style="height: 50px; vertical-align: middle;">
  <img src="assets/Technion_EN-2.png" alt="Technion" style="height: 50px; vertical-align: middle;"> <br>
  ¬© 2025 Noam Cohen. Built with ‚ù§Ô∏è  and MkDocs.
</div>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u05d4\u05d5\u05e2\u05ea\u05e7 \u05dc\u05dc\u05d5\u05d7", "clipboard.copy": "\u05d4\u05e2\u05ea\u05e7\u05d4 \u05dc\u05dc\u05d5\u05d7", "search.result.more.one": "\u05e2\u05d5\u05d3 \u05d0\u05d7\u05d3 \u05d1\u05d3\u05e3 \u05d4\u05d6\u05d4", "search.result.more.other": "\u05e2\u05d5\u05d3 # \u05d1\u05d3\u05e3 \u05d4\u05d6\u05d4", "search.result.none": "\u05d0\u05d9\u05df \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05ea\u05d5\u05d0\u05de\u05d9\u05dd", "search.result.one": "\u05de\u05e1\u05de\u05da1 \u05ea\u05d5\u05d0\u05dd", "search.result.other": "# \u05de\u05e1\u05de\u05da \u05ea\u05d5\u05d0\u05dd", "search.result.placeholder": "\u05d9\u05e9 \u05dc\u05d4\u05e7\u05dc\u05d9\u05d3 \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc \u05dc\u05d7\u05e4\u05e9", "search.result.term.missing": "\u05d7\u05e1\u05e8", "select.version": "\u05d1\u05d7\u05d9\u05e8\u05ea \u05d2\u05e8\u05e1\u05d4"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../../js/comment.js"></script>
      
    
  </body>
</html>